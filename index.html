<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Para Conejita Armon铆a 梆</title>

  <style>
    body {
      background-color: #FFC0CB;
      text-align: center;
      font-family: Arial, sans-serif;
      overflow: hidden;
      margin: 0;
      padding: 20px;
    }

    h1 { font-size: 2em; }

    .flor {
      position: absolute;
      width: 50px;
      animation: crecer 3s linear infinite;
      pointer-events: none;
    }

    @keyframes crecer {
      0% { transform: scale(0); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    .boton {
      font-size: 1.5em;
      padding: 10px 20px;
      margin: 10px;
      border-radius: 10px;
      cursor: pointer;
      border: none;
    }

    .si { background-color: lightgreen; }
    .no { background-color: lightcoral; }

    .musica {
      background-color: white;
      border: 2px solid #ff69b4;
    }
  </style>
</head>

<body>
  <h1>Conejita Armon铆a 梆, 驴quieres ser mi San Valent铆n? ズ</h1>

  <img id="kirby" src="kirby.png" width="150" alt="Kirby" />
  <br />

  <button class="boton si" onclick="aceptar()">S铆 </button>
  <button class="boton no" onclick="rechazar()">No </button>

  <br />

  <!-- Bot贸n para m煤sica -->
  <button class="boton musica" id="btnMusica" onclick="toggleMusica()"> Reproducir m煤sica</button>

  <!-- Audio (debe existir cancion.mp3 en el repo) -->
  <audio id="musica" loop preload="auto">
    <source src="cancion.mp3" type="audio/mpeg">
    Tu navegador no soporta audio HTML5.
  </audio>

  <script>
    let intentos = 0;
    const imagenes = ["kirby.png", "kirby1.gif", "kirby2.gif", "kirby3.gif", "kirby4.gif", "kirby5.gif"];
    const mensajesNo = [
      "Vamos, s茅 que quieres ",
      "驴Est谩s segura? ",
      "Piensa bien tu decisi贸n ",
      "ltima oportunidad ",
      "No hay escapatoria... "
    ];

    function aceptar() {
      document.body.innerHTML =
        "<h1>SABA QUE DIRAS QUE S </h1>" +
        "<img src='kirby_feliz.gif' width='200' alt='Kirby feliz'>" +
        "<p>Te adoro princesa </p>";
    }

    function rechazar() {
      if (intentos < 5) {
        const btnNo = document.querySelector(".no");
        btnNo.innerText = mensajesNo[intentos];

        const img = document.getElementById("kirby");
        img.src = imagenes[Math.min(intentos + 1, imagenes.length - 1)];

        intentos++;
      } else {
        document.body.innerHTML =
          "<h1>De todas formas, estamos hechos el uno para el otro </h1>" +
          "<img src='kirby_triste.gif' width='200' alt='Kirby triste'>" +
          "<p>No puedes huir del destino </p>";
      }
    }

    // M煤sica Play/Pause
    function toggleMusica() {
      const audio = document.getElementById("musica");
      const btn = document.getElementById("btnMusica");

      if (audio.paused) {
        audio.play()
          .then(() => { btn.innerText = "革 Pausar m煤sica"; })
          .catch(() => {
            // Si el navegador bloquea, igual queda el bot贸n para reintentar
            btn.innerText = " Reproducir m煤sica";
            alert("Tu navegador bloque贸 la reproducci贸n. Vuelve a tocar el bot贸n para iniciar.");
          });
      } else {
        audio.pause();
        btn.innerText = " Reproducir m煤sica";
      }
    }

    // Flores en movimiento
    for (let i = 0; i < 15; i++) {
      const flor = document.createElement("img");
      flor.src = "Pink-Flower-PNG-HD-Image.png";
      flor.classList.add("flor");
      flor.style.left = Math.random() * window.innerWidth + "px";
      flor.style.top = Math.random() * window.innerHeight + "px";
      document.body.appendChild(flor);
    }
  </script>
</body>
</html>