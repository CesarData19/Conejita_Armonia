<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ° Para Conejita ArmonÃ­a ğŸ’–</title>

  <style>
    body {
      background-color: #FFC0CB;
      text-align: center;
      font-family: Arial, sans-serif;
      overflow: hidden;
      margin: 0;
      padding: 20px;
    }

    h1 { font-size: 2em; margin-top: 20px; }

    .flor {
      position: absolute;
      width: 50px;
      animation: crecer 3s linear infinite;
      pointer-events: none;
      z-index: 0;
    }

    @keyframes crecer {
      0% { transform: scale(0); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    #contenido {
      position: relative;
      z-index: 1;
    }

    .boton {
      font-size: 1.5em;
      padding: 10px 20px;
      margin: 10px;
      border-radius: 10px;
      cursor: pointer;
      border: none;
    }

    .si { background-color: lightgreen; }
    .no { background-color: lightcoral; }

    .musica {
      background-color: white;
      border: 2px solid #ff69b4;
      position: fixed;
      top: 15px;
      right: 15px;
      z-index: 2;
    }
  </style>
</head>

<body>
  <!-- Audio queda fuera de #contenido para que NUNCA se borre -->
  <audio id="musica" loop preload="auto">
    <source src="cancion.mp3" type="audio/mpeg">
    Tu navegador no soporta audio HTML5.
  </audio>

  <!-- BotÃ³n mÃºsica (tambiÃ©n fuera de #contenido para que no desaparezca) -->
  <button class="boton musica" id="btnMusica" onclick="toggleMusica()">ğŸµ Reproducir mÃºsica</button>

  <!-- Todo lo que cambia va aquÃ­ -->
  <div id="contenido">
    <h1>ğŸ° Conejita ArmonÃ­a ğŸ’•, Â¿quieres ser mi San ValentÃ­n? ğŸ¥º</h1>

    <img id="kirby" src="kirby.png" width="150" alt="Kirby" />
    <br />

    <button class="boton si" onclick="aceptar()">SÃ­ ğŸ’–</button>
    <button class="boton no" onclick="rechazar()">No ğŸ˜­</button>
  </div>

  <script>
    let intentos = 0;
    const imagenes = ["kirby.png", "kirby1.gif", "kirby2.gif", "kirby3.gif", "kirby4.gif", "kirby5.gif"];
    const mensajesNo = [
      "Vamos, sÃ© que quieres ğŸ˜",
      "Â¿EstÃ¡s segura? ğŸ™ƒ",
      "Piensa bien tu decisiÃ³n ğŸ˜¬",
      "Ãšltima oportunidad ğŸ˜³",
      "No hay escapatoria... ğŸ˜ˆ"
    ];

    function aceptar() {
      document.getElementById("contenido").innerHTML = `
        <h1>SABÃA QUE DIRÃAS QUE SÃ ğŸ˜ğŸ’–</h1>
        <img src="kirby_feliz.gif" width="200" alt="Kirby feliz">
        <p>Te adoro princesa ğŸ˜˜ğŸ’</p>
      `;
    }

    function rechazar() {
      if (intentos < 5) {
        const btnNo = document.querySelector(".no");
        const img = document.getElementById("kirby");

        btnNo.innerText = mensajesNo[intentos];
        img.src = imagenes[Math.min(intentos + 1, imagenes.length - 1)];

        intentos++;
      } else {
        document.getElementById("contenido").innerHTML = `
          <h1>De todas formas, estamos hechos el uno para el otro ğŸ˜˜ğŸ’•</h1>
          <img src="kirby_triste.gif" width="200" alt="Kirby triste">
          <p>No puedes huir del destino ğŸ’–</p>
        `;
      }
    }

    function toggleMusica() {
      const audio = document.getElementById("musica");
      const btn = document.getElementById("btnMusica");

      if (audio.paused) {
        audio.play()
          .then(() => { btn.innerText = "â¸ï¸ Pausar mÃºsica"; })
          .catch(() => { alert("Tu navegador bloqueÃ³ la reproducciÃ³n. Toca el botÃ³n otra vez."); });
      } else {
        audio.pause();
        btn.innerText = "ğŸµ Reproducir mÃºsica";
      }
    }

    // Flores en movimiento (se mantienen aunque cambie #contenido)
    for (let i = 0; i < 15; i++) {
      const flor = document.createElement("img");
      flor.src = "Pink-Flower-PNG-HD-Image.png";
      flor.classList.add("flor");
      flor.style.left = Math.random() * window.innerWidth + "px";
      flor.style.top = Math.random() * window.innerHeight + "px";
      document.body.appendChild(flor);
    }
  </script>
</body>
</html>